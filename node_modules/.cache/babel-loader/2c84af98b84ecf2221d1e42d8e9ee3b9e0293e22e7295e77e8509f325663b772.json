{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Container,Button,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Typography,TextField}from'@mui/material';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProducts]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[filteredProducts,setFilteredProducts]=useState([]);const navigate=useNavigate();useEffect(()=>{axios.get('http://192.168.1.99/api/products').then(response=>{setProducts(response.data);setFilteredProducts(response.data);// Initially, show all products\n}).catch(error=>console.error(error));},[]);useEffect(()=>{// Filter products based on the search query\nsetFilteredProducts(products.filter(product=>product.name.toLowerCase().includes(searchQuery.toLowerCase())||product.category.toLowerCase().includes(searchQuery.toLowerCase())));},[searchQuery,products]);const handleDelete=productId=>{if(window.confirm('Are you sure you want to delete this product?')){axios.delete(`http://192.168.1.99/api/products/${productId}`).then(()=>{setProducts(products.filter(product=>product._id!==productId));}).catch(error=>console.error('Error deleting product:',error));}};const handleSearchChange=e=>{setSearchQuery(e.target.value);};const handleViewMovements=productId=>{// Redirect to the view movements page for the product\nnavigate(`/product/${productId}/movements`);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Product List\"}),/*#__PURE__*/_jsx(TextField,{label:\"Search Products\",variant:\"outlined\",fullWidth:true,value:searchQuery,onChange:handleSearchChange,style:{marginBottom:'20px'}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",component:Link,to:\"/add-product\",style:{marginBottom:'20px'},children:\"Add Product\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Quantity\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filteredProducts.map(product=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:product.name}),/*#__PURE__*/_jsx(TableCell,{children:product.category}),/*#__PURE__*/_jsx(TableCell,{children:product.quantity}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",component:Link,to:`/edit-product/${product._id}`,style:{marginRight:'10px'},children:\"Update\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"error\",onClick:()=>handleDelete(product._id),children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:()=>handleViewMovements(product._id),style:{marginLeft:'10px'},children:\"View Movements\"})]})]},product._id))})]})})]});};export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","TextField","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProducts","searchQuery","setSearchQuery","filteredProducts","setFilteredProducts","navigate","get","then","response","data","catch","error","console","filter","product","name","toLowerCase","includes","category","handleDelete","productId","window","confirm","delete","_id","handleSearchChange","e","target","value","handleViewMovements","children","variant","gutterBottom","label","fullWidth","onChange","style","marginBottom","color","component","to","map","quantity","marginRight","onClick","marginLeft"],"sources":["/home/aziz/emkaProjects/armoireSeche/stock-dashboard/src/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Typography, TextField } from '@mui/material';\nimport { Link, useNavigate } from 'react-router-dom';\n\nconst ProductList = () => {\n  const [products, setProducts] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios.get('http://192.168.1.99/api/products')\n      .then(response => {\n        setProducts(response.data);\n        setFilteredProducts(response.data); // Initially, show all products\n      })\n      .catch(error => console.error(error));\n  }, []);\n\n  useEffect(() => {\n    // Filter products based on the search query\n    setFilteredProducts(\n      products.filter(product =>\n        product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        product.category.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    );\n  }, [searchQuery, products]);\n\n  const handleDelete = (productId) => {\n    if (window.confirm('Are you sure you want to delete this product?')) {\n      axios.delete(`http://192.168.1.99/api/products/${productId}`)\n        .then(() => {\n          setProducts(products.filter(product => product._id !== productId));\n        })\n        .catch(error => console.error('Error deleting product:', error));\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleViewMovements = (productId) => {\n    // Redirect to the view movements page for the product\n    navigate(`/product/${productId}/movements`);\n  };\n\n  return (\n    <Container>\n      <Typography variant=\"h4\" gutterBottom>Product List</Typography>\n      \n      <TextField\n        label=\"Search Products\"\n        variant=\"outlined\"\n        fullWidth\n        value={searchQuery}\n        onChange={handleSearchChange}\n        style={{ marginBottom: '20px' }}\n      />\n      \n      <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/add-product\" style={{ marginBottom: '20px' }}>\n        Add Product\n      </Button>\n\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Category</TableCell>\n              <TableCell>Quantity</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {filteredProducts.map((product) => (\n              <TableRow key={product._id}>\n                <TableCell>{product.name}</TableCell>\n                <TableCell>{product.category}</TableCell>\n                <TableCell>{product.quantity}</TableCell>\n                <TableCell>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    component={Link}\n                    to={`/edit-product/${product._id}`}\n                    style={{ marginRight: '10px' }}\n                  >\n                    Update\n                  </Button>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"error\"\n                    onClick={() => handleDelete(product._id)}\n                  >\n                    Delete\n                  </Button>\n                  <Button\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    onClick={() => handleViewMovements(product._id)}\n                    style={{ marginLeft: '10px' }}\n                  >\n                    View Movements\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
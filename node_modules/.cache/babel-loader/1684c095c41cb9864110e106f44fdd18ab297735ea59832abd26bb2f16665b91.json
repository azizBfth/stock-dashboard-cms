{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Container,Button,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Typography}from'@mui/material';import{useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StockMovementList=()=>{const[stockMovements,setStockMovements]=useState([]);const navigate=useNavigate();// Fetch stock movements\nuseEffect(()=>{axios.get('http://192.168.1.99/api/mvt').then(response=>setStockMovements(response.data)).catch(error=>console.error('Error fetching stock movements:',error));},[]);const handleDelete=id=>{axios.delete(`http://192.168.1.99/api/mvt/${id}`).then(()=>{// Handle the UI update after deletion\nsetStockMovements(stockMovements.filter(movement=>movement._id!==id));}).catch(error=>console.error('Error deleting stock movement:',error));};// Navigate to the Add New Stock Movement page\nconst handleAddNew=()=>{navigate('/add');// Adjust the route to match your app's add page\n};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Stock Movements\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",component:Link,to:\"/add-stockmovement\",style:{marginBottom:'20px'},children:\"Add mvt\"}),/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Type\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Quantity\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Location\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Operator\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Datetime\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:stockMovements.map(movement=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:movement.product.name}),\" \",/*#__PURE__*/_jsx(TableCell,{children:movement.type}),/*#__PURE__*/_jsx(TableCell,{children:movement.quantity}),/*#__PURE__*/_jsx(TableCell,{children:movement.location}),/*#__PURE__*/_jsx(TableCell,{children:movement.operator}),/*#__PURE__*/_jsx(TableCell,{children:new Date(movement.datetime).toLocaleString()}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>navigate(`/edit-stockmovement/${movement._id}`),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:()=>handleDelete(movement._id),children:\"Delete\"})]})]},movement._id))})]})]});};export default StockMovementList;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","StockMovementList","stockMovements","setStockMovements","navigate","get","then","response","data","catch","error","console","handleDelete","id","delete","filter","movement","_id","handleAddNew","children","variant","color","component","to","style","marginBottom","map","product","name","type","quantity","location","operator","Date","datetime","toLocaleString","onClick"],"sources":["/home/aziz/emkaProjects/armoireSeche/stock-dashboard/src/StockMovementList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Typography } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\n\nconst StockMovementList = () => {\n    const [stockMovements, setStockMovements] = useState([]);\n    const navigate = useNavigate();\n\n    // Fetch stock movements\n    useEffect(() => {\n      axios.get('http://192.168.1.99/api/mvt')\n        .then(response => setStockMovements(response.data))\n        .catch(error => console.error('Error fetching stock movements:', error));\n    }, []);\n\n    const handleDelete = (id) => {\n        axios.delete(`http://192.168.1.99/api/mvt/${id}`)\n          .then(() => {\n            // Handle the UI update after deletion\n            setStockMovements(stockMovements.filter((movement) => movement._id !== id));\n          })\n          .catch(error => console.error('Error deleting stock movement:', error));\n    };\n    \n    // Navigate to the Add New Stock Movement page\n    const handleAddNew = () => {\n        navigate('/add'); // Adjust the route to match your app's add page\n    };\n\n    return (\n      <Container>\n        <Typography variant=\"h4\">Stock Movements</Typography>\n        \n        {/* Add New Movement Button */}\n        <Button variant=\"contained\" color=\"primary\" component={Link} to=\"/add-stockmovement\" style={{ marginBottom: '20px' }}>\n              Add mvt\n            </Button>\n\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Product</TableCell>\n              <TableCell>Type</TableCell>\n              <TableCell>Quantity</TableCell>\n              <TableCell>Location</TableCell>\n              <TableCell>Operator</TableCell>\n              <TableCell>Datetime</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {stockMovements.map((movement) => (\n              <TableRow key={movement._id}>\n                <TableCell>{movement.product.name}</TableCell> {/* Assuming product is an object */}\n                <TableCell>{movement.type}</TableCell>\n                <TableCell>{movement.quantity}</TableCell>\n                <TableCell>{movement.location}</TableCell>\n                <TableCell>{movement.operator}</TableCell>\n                <TableCell>{new Date(movement.datetime).toLocaleString()}</TableCell>\n                <TableCell>\n                  <Button variant=\"contained\" color=\"primary\" onClick={() => navigate(`/edit-stockmovement/${movement._id}`)}>Edit</Button>\n                  <Button variant=\"contained\" color=\"secondary\" onClick={() => handleDelete(movement._id)}>Delete</Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </Container>\n    );\n};\n\nexport default StockMovementList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}